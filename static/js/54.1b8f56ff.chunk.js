(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[54],{854:function(n,e,r){"use strict";r.d(e,{a:function(){return a}});var t=r(4137),o=r(184),a=function(){return(0,o.jsx)(t.Jv,{visible:!0,height:"120",width:"120",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}},7374:function(n,e,r){"use strict";r.d(e,{Z:function(){return j}});var t,o,a,i,u,c=r(1413),s=r(7689),f=r(168),l=r(7924),p=r(1087),h=l.ZP.ul(t||(t=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: calc(-1 * ","px);\n  margin-left: calc(-1 * ","px);\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]})),d=l.ZP.li(o||(o=(0,f.Z)(["\n  margin-top: ","px;\n  margin-left: ","px;\n  flex-basis: calc(100% / 5 - ","px);\n\n  overflow: hidden;\n\n  list-style: none;\n  border-radius: ",";\n  box-shadow: ",";\n\n  transform: scale(1);\n  transition: box-shadow 250ms, transform 250ms;\n\n  :hover,\n  :focus {\n    transform: scale(1.03);\n  }\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.shadows.regular})),m=(0,l.ZP)(p.rU)(a||(a=(0,f.Z)(["\n  display: block;\n  height: 100%;\n\n  text-decoration: none;\n"]))),g=r(2007),b=r.n(g),v=r(6343),x=l.ZP.div(i||(i=(0,f.Z)(["\n  height: 300px;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),y=l.ZP.p(u||(u=(0,f.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  padding-left: ","px;\n"])),(function(n){return n.theme.fonts.body}),(function(n){return n.theme.fontWeights.normal}),(function(n){return n.theme.fontSizes.xs}),(function(n){return n.theme.colors.brown}),(function(n){return n.theme.space[3]})),Z=r(184),w=function(n){var e=n.poster_path,r=n.title,t=n.name;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x,{children:(0,Z.jsx)("img",{src:e?"https://image.tmdb.org/t/p/w500/".concat(e):v,alt:r||t})}),(0,Z.jsx)(y,{children:r||t})]})};w.propStyles={poster_path:b().string,title:b().string,name:b().string};var j=function(n){var e=n.movies,r=(0,s.TH)();return(0,Z.jsx)(h,{children:e.map((function(n){return(0,Z.jsx)(d,{children:(0,Z.jsx)(m,{to:"/movies/".concat(n.id),state:{from:r},children:(0,Z.jsx)(w,(0,c.Z)((0,c.Z)({},n),{},{state:{from:r}}))})},n.id)}))})}},6054:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return k}});var t,o,a,i=r(5218),u=r(5984),c=r(5861),s=r(9439),f=r(4687),l=r.n(f),p=r(2791),h=r(1087),d=r(5963),m=r(168),g=r(7924),b=g.ZP.form(t||(t=(0,m.Z)(["\n  text-align: center;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[5]})),v=g.ZP.input(o||(o=(0,m.Z)(["\n  margin-right: ","px;\n  padding-left: ","px;\n\n  width: 300px;\n  height: 40px;\n  background-color: #cfbdc0;\n  /* border-radius: ","; */\n  border-radius: ",";\n  border: none;\n  outline: none;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.radii.big}),(function(n){return n.theme.colors.grey}),(function(n){return n.theme.colors.light})),x=g.ZP.button(a||(a=(0,m.Z)(["\n  padding-left: ","px;\n  padding-right: ","px;\n  height: 40px;\n  color: ",";\n  background-color: #cfbdc0;\n\n  border-radius: ",";\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  transition: color 250ms, background-color 250ms;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.grey}),(function(n){return n.theme.radii.big}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.brown})),y=r(184),Z=function(n){var e=n.handleSubmit,r=n.value,t=n.setMovieQuery;return(0,y.jsxs)(b,{onSubmit:e,children:[(0,y.jsx)("label",{children:(0,y.jsx)(v,{autoComplete:"off",placeholder:"Search movie",name:"query",value:r,onChange:function(n){return t(n.target.value)}})}),(0,y.jsx)(x,{type:"submit",children:"Search"})]})},w=r(7374),j=r(854),k=function(){var n=function(){var n,e=(0,p.useState)(""),r=(0,s.Z)(e,2),t=r[0],o=r[1],a=(0,p.useState)([]),u=(0,s.Z)(a,2),f=u[0],m=u[1],g=(0,p.useState)(!1),b=(0,s.Z)(g,2),v=b[0],x=b[1],y=(0,p.useState)(null),Z=(0,s.Z)(y,2),w=Z[0],j=Z[1],k=(0,h.lr)(),_=(0,s.Z)(k,2),S=_[0],P=_[1],T=null!==(n=S.get("query"))&&void 0!==n?n:"";return(0,p.useEffect)((function(){var n=function(){var n=(0,c.Z)(l().mark((function n(){var e,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,""!==T){n.next=3;break}return n.abrupt("return");case 3:return x(!0),n.next=6,(0,d.X)("/search/movie?query=".concat(T));case 6:if(e=n.sent,!((r=e.results).length<1)){n.next=11;break}return(0,i.ZP)("Sorry, nothing found for your search ".concat(T,"! Try another query."),{icon:"\ud83c\udf73",style:{borderRadius:"10px",background:"#56CCF2",color:"#fff"}}),n.abrupt("return");case 11:m(r),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),j(n.t0);case 17:return n.prev=17,x(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,14,17,20]])})));return function(){return n.apply(this,arguments)}}();n()}),[T]),{movieQuery:t,setMovieQuery:o,movies:f,loading:v,error:w,setSearchParams:P,query:T}}(),e=n.movieQuery,r=n.setMovieQuery,t=n.movies,o=n.loading,a=n.error,f=n.setSearchParams,m=n.query;return(0,y.jsx)("main",{children:(0,y.jsx)("section",{children:(0,y.jsxs)(u.W,{children:[(0,y.jsx)(Z,{handleSubmit:function(n){n.preventDefault();var r=n.target.elements.query.value.trim().toLowerCase();f(""!==e?{query:r}:{})},value:e,setMovieQuery:r}),m&&(0,y.jsx)(w.Z,{movies:t}),a&&i.ZP.error("Something went wrong. \ud83d\ude14 Try again."),o&&(0,y.jsx)(j.a,{})]})})})}},5963:function(n,e,r){"use strict";r.d(e,{X:function(){return u}});var t=r(5861),o=r(4687),a=r.n(o),i=r(5294);i.Z.defaults.baseURL="https://api.themoviedb.org/3",i.Z.defaults.params={per_page:20,api_key:"6e63ae3d3fa9b74b5acead8aeaa911b2"};var u=function(){var n=(0,t.Z)(a().mark((function n(e){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(e));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},888:function(n,e,r){"use strict";var t=r(9047);function o(){}function a(){}a.resetWarningCache=o,n.exports=function(){function n(n,e,r,o,a,i){if(i!==t){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return n}n.isRequired=n;var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},2007:function(n,e,r){n.exports=r(888)()},9047:function(n){"use strict";n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6343:function(n,e,r){"use strict";n.exports=r.p+"static/media/no-image-available.dde02abbfdd0ab1d515b.jpg"}}]);
//# sourceMappingURL=54.1b8f56ff.chunk.js.map